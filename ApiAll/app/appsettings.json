{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
	"ConnectionStrings": {
		"DefaultConnection": "User ID=postgres;Password=wRMlQlzLmuTO1K0qLOzP;Host=62.209.128.51;Port=5454;Database=erp;Pooling=true;"
	},
  "AllowedHosts": "*",
  "bot_id": "",
  "bot_id_buhoro": "1958356792:AAEDu2gEXvF9llHoU85IdXKg8j2X39JEvRg",
  "bot_id_yunusobot": "2076384871:AAGFC1ry359GSHdDJHVkqSTBkRbNS360WdQ"
}


// "DefaultConnection": "User ID=postgres;Password=BeK_159753;Host=127.0.0.1;Port=5432;Database=new;Pooling=true;"
//arxivda ishlagan vohtini topish uchun 
/*

  -- Function: public.working_time_without_gr(integer, date)

-- DROP FUNCTION public.working_time_without_gr(integer, date);

CREATE OR REPLACE FUNCTION public.working_time_without_gr(
    emp_id integer,
    _date date)
  RETURNS interval AS
$BODY$
declare
kirish_chiqish archive_user_check_in_out_report%rowtype;
kirish_v time  := null;
chiqish_v time := null;
ret interval := '00:00';
ret_val time := null;
noch_ishladi boolean := false;


begin

for kirish_chiqish in select * from archive_user_check_in_out_report where 
	emp_number = emp_id and checkdate = _date order by checktime
	LOOP
		if kirish_chiqish.device_type = 'I' then
			if kirish_v is null then 
				kirish_v := kirish_chiqish.checktime;
			else 
				if chiqish_v is not null  then 
					if (kirish_chiqish.checktime - chiqish_v)>'9:00'  then
						kirish_v := kirish_chiqish.checktime;
						chiqish_v := null;
					end if;
				elsif kirish_v is not null then
					if (kirish_chiqish.checktime - kirish_v)>'9:00'  then
						kirish_v := kirish_chiqish.checktime;
					end if;
					
				end if;
			end if; 
		
		elsif kirish_chiqish.device_type = 'O' and kirish_v is not null then
			chiqish_v := kirish_chiqish.checktime;
			
		end if; 
		
	end loop;

	if kirish_v is not null then
		for kirish_chiqish in select * from archive_user_check_in_out_report where 
		emp_number = emp_id and checkdate = (_date + int'1') and checktime < kirish_v order by checktime
		LOOP
			if kirish_chiqish.device_type = 'O' then
				chiqish_v := kirish_chiqish.checktime;
				noch_ishladi := true;
				raise notice 'Noch ishladi\n';
			end if; 
		end loop;

		
		if chiqish_v is null then 
			
			ret := time '00:00';
			return ret;
		end if;
	end if;

	if noch_ishladi is true then
		ret := chiqish_v - kirish_v + time'24:00';
		raise notice 'Value: %', ret;
	else 
		ret := (chiqish_v - kirish_v);
		raise notice 'Value nochmas: %\n Kirish : %', chiqish_v,kirish_v;
	end if;
    if ret_val is not null then
		ret :=  ret_val;
	end if;
	
return ret;
end
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION public.working_time_without_gr(integer, date)
  OWNER TO postgres;


*/
//